import * as robotevents from 'robotevents';
import fs from 'fs';
import api from '../src/index.js';

// 设置token
const token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIzIiwianRpIjoiOTUxYzJjODc2Mjg5YjEyZDNkZTAzYTc3NDk5MTVlMTc4MDE1ZDRjMmZiZWM2YWY3NTFkOTgwMWUzZGMwOWE1NDc3MzA1MWNmYzEyNDBmODQiLCJpYXQiOjE2NTYyOTEwMDUuNDQxOTk5OSwibmJmIjoxNjU2MjkxMDA1LjQ0MjAwMywiZXhwIjoyNjAzMDY1ODA1LjQyNjM1ODIsInN1YiI6Ijg5ODQ2Iiwic2NvcGVzIjpbXX0.rau6vgn2Ip0_-nua-g_FfVBOT8HK2K8jm8JQF0UHM07l6auybf8WYTh-VS31o6U0ONmaxm0RojdppwvuxLIB9rgRcshj6kz9VyOulU151BTh-cjAJ2r3Ew9TN0TVXKEVcWptzyLxaPs9N8HEJsMO10G2BxOOs34tr1zGvY7MMY2A8Kg4eHoGtnifMEZXlty9qnY42j2hS8OTafSFgB0UIkCg83aAR5f8hJMn7BJ-yzPkRe-bBrGhzE269H8MKVhC1umkXSbsQn8iItaa-SyvRryQfCqb-2ZiQqLWsZjQxoVq6fbBDdU5YeP6CaGkpYnA8kUXEpR4aSxLOJd_Z3f-5kzm_EjIFlacvWksHPdSWbd9bgj78ypP-_XXvS627K6rv476TT1M7kGG_TPkzgfVuyC2HTx0rG0FKZ39Uxn43yX0Wc2x7Dkq1RpRAcoxSf-yUvnDDlNf3NqFi7gg43VReQEGY3czGk7hGHPD73veB7CLCchwmCmvEciS0AIYDdh2MPjbP39XpFZUPn1FRc0z4V3qJz46TsScr7yMX47GKmd9Uz_xk93v4S6_Phrgmw3Dk1I5MC4lnKi0lBvPALEg_iDbxauRvYcIiN84JeAxu-LlysawOI0HudaJ-FzCaeA3CP6DmaTDvegtYNTZrXbPm02yqyE7l-OLHIrAzjWf07o";
const token2 = `eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIzIiwianRpIjoiMWQzZWM4OWNkODFjNDdkYTk0ZDRlMDc3NmMwZTFlMmU5MDQ0ODQ3NTIyNzlhYTM4OGQ2ZmYyOTdmMmFkYjA2MDRkYTNhYjRjNmYzMTkzMWMiLCJpYXQiOjE3MTQ1MjYzNzAuOTU0NzYxLCJuYmYiOjE3MTQ1MjYzNzAuOTU0NzY1MSwiZXhwIjoyNjYxMjE0NzcwLjk1MDc0NDIsInN1YiI6IjExMTU0MyIsInNjb3BlcyI6W119.fzx6Eo8PcOuwEPhYh8ZGHapAM4u9oROCGVD98NP35M_bvWns8t0O2RhfFFAJdemaQIvw4Xxh94N55a0ZS8Jk-_wo-eoioIsPck103x4cd_WN71BYHMrlutjGUqoFod5vxwYIYai_lPLjiaob4JDCd2kXGExhcEt7-TIYV3eYLdXt6SeY7x_8RANFOVhtFcPXkANLpEZdQCkGMxAv5_WlfghGbzyK3pUeCbZ_SDC9oHDLljvfvX6qCv-4c58_asoEJyYiwVoLQy4oHpdAnxlkST5Im6sx7rTexUPC3ps7-Gf6-NTL8i3nz_IW-kCZznC0LXAcqeWN-OrbUYpLfkuhpKgPxDSaQR0xZGmyMKvUDJC4S67fuWtsKcI9YeH4ua6UJBbdqoEJ1RemWtmW4vrllSPbCG4MUiz3khzk1yAdrw2HW6hON-_QeaHsgQMt9cfQkuNLTvNBgY1LZcQfHgcNGa9skNt1-9QMF4eXrNeKXz-HSWCdLkLVrag5HYB092hcH9TSg7MRDV0FpQ_wpwGivXZ3A0ELgvQ6FIvhfzp9bYlq0xZOgmYlznBQXXhNM_6Xm6gbxPxpmR7-LIp1p4RH1qOReRPm_UdbPtaDgNadCgS9s2SrPlbcT5SrMNojwr2l0sCfAhFJ7BsnPX7e0aO634pxSiA80edI7UCZgQONrIk`;
const cookie = "ls_locale=eyJpdiI6IlJ5NmpJeWJGRFcvM1JoVnFaMnZQVlE9PSIsInZhbHVlIjoiUUtNNlJNRTJOZTBHTVNhWW9MVjQ4bnNITTJJQ0IxRU14dzl0dFVPd1BWV1l6SytpYzRzTWRKMWtDSWp3N1h1eSIsIm1hYyI6IjRiZjljMDlmMzllOWIwZWZmZTBiMWVlNWYwZDEzZjc2OTg0MzNkN2Y2ZjliZDU3ZjNjMjYxODg4Y2FlYmIwNTciLCJ0YWciOiIifQ%3D%3D; _ga=GA1.1.1425889509.1713837476; remember_web_59ba36addc2b2f9401580f014c7f58ea4e30989d=eyJpdiI6IkNORDFLUU5ub2tRaVNXMmtxVTJzcnc9PSIsInZhbHVlIjoiNjNaQzV6UUtCWVhETzQxNVVnUHVTOStndUpaQnJtZWVOckx4YjhQcEFrU1ord2hVUEtCUC9EMVlQVWtMdHd3eC9wTVZ5SXVSMUFuRlhXMG1pQlQyejh5OGhKKzRLOXZpUCtPVDlUREJxTEg0aCtCSUYyQk4vV25ZUzc1blB4VjZkUDFMMXdrY0hKVldXUUo4Y0VjckJxVnYybUNld0d2TzRhakpNS3p4VVlhbjRXR2xwM1o0NVZZWlY0dVhVbVpva0FXbXVXc2pNWlFHRGg3bEUzSExvY25kaUVlZVZrR0pPQWV1dWMvNmxYbz0iLCJtYWMiOiIxY2RiZmExMTljOTRjNTRiZTFjNmIxZjY0NDZlNWE0MDEzYzliYmM5ZjY3ZjhmNTcyZTc5MTU5NjVmNWMwYjgxIiwidGFnIjoiIn0%3D; _ga_LE824B7C5M=GS1.1.1714316353.2.1.1714316519.27.0.0; re2_session=ftiH86mUbo9xxRKaEdDuayVrJ6Te6wtDgdK6P2VC; XSRF-TOKEN=eyJpdiI6InpaOVdpc3JmaGNzTEZoaUFxbGZVQVE9PSIsInZhbHVlIjoia1FJcnlSR05vUU5YZ3lINGgvaW0vQzJYcnVqVXEyUlNla2pzZmUxVWJ0V0NVU0RLMVZyNWNsdXp6TWYrbU8zbWJjaG01dWFrcVZsS0ZxS3pGenN1SEVqeStVNDI5SEh3TndDZTJ1U1R6UkRxNURtcDhQckRSSkZkbDFxOGNxTDIiLCJtYWMiOiIxMTZlMjU4YjBkMjVlM2ExZDQzMjhjNTEwNTgyNzE0NDJiMDI2NTcyOGMzZTQ0Y2I1YmNlNGMyMTdlNGMyNTY3IiwidGFnIjoiIn0%3D; v2_token=eyJpdiI6Ii9kNU0zL3pISGIweUg5QmJnWkhqUnc9PSIsInZhbHVlIjoiZDZQeXgwd29Kc2w5TmkrNUZoL3lYM2ZyYUdRM0tXQjdEcnVTbmlJdDRJSnA1NFRURkFMb2RQV1JGYkVqZVhVd3FtS3Z4UDJWbHg5dDZhRWRTRlhLWWdXa1pOKzVlMFl2OXRnRmk4T3dyaTh0QkloUjQydDBsL1ExZk9Md2pMMCtOLzlxOWUva21BVjB4V3BUU0E0RW84NkVJY3RvZ21DRzRNMmcwbStnQ1RUNXVCQ01jdDRNMjVHWE5YcjR3SElVS2VMY2lVRVNnVURtRExFR1NNREpXYk44QUxHM1VEQVhOMGFDL3B6b2RVTlAvYWhFQ0ZzWmg3RzRnQ1RYWkdEcTJCY3hSWmRid3RjR2E3ZXpPSjhycTN0ZUJEYiszK2d2L2k2WjU1cm5Lbld6MjNlTFpMejR1MGRkb1JrM3NmaHoiLCJtYWMiOiJhMTVhY2U5MzljZTMwNTIyNTgwODFiMmMwODRmZTQyZmFlOWQzMzdkYmUyMzNjYTMxYmEwNTRjNDQyYTVjZDI4IiwidGFnIjoiIn0%3D; _ga_3RNBNKCMJZ=GS1.1.1714528466.29.1.1714529669.0.0.0; __cf_bm=YtMWzxZJQUBGJInsY8ii0VYm3IcZu1mAgxIFjY5LwSc-1714564214-1.0.1.1-1nLRKpZh8Mbyf5BluCLyLsZvJcfPljvRC9CPuo1X8Gr84sGNzmpBWaCUGqU4XVhz8fXUzCHCJsYLC9cKdq6SXg";
// robotevents.authentication.setBearer(token);
robotevents.authentication.setCookie(cookie);
const region = `United States`;
const seasonName = "VIQRC";
const seasonDate = "2023-2024";
const directionName = "VIQRC_2024_US";


(async function () {
    const dir = `./public/${directionName}`
    if (!fs.existsSync(dir)){
        fs.mkdirSync(dir, { recursive: true });
    }
    // await api.getEvents({ robotevents, region, seasonName, seasonDate, directionName });
    // await api.getEventTeams({ robotevents, directionName});
    await api.getEventSkills({ robotevents, directionName });
    // await api.getEventAwards({ robotevents, directionName });
    // await api.getDivisionMatches({ robotevents, directionName });
    // await api.getDivisionRanks({ robotevents, directionName });
    // await api.getDivisionFinalistRankings({ robotevents, directionName });

})();